!function(){"use strict";function e(e,t){var n,i,o,r,l,c,f,u,s,a,h,g=0,p=e.length,A="",S=!0,d=!1;function R(e){return" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e}function x(e){return"'"===e||'"'===e}function y(e){return o>="a"&&o<="z"||o>="A"&&o<="Z"||o>="0"&&o<="9"||"-_*.:#[]".indexOf(e)>=0}function b(){var e;for(e=u;e>0;e-=1)A+=n.indent}function k(){A=h(A),S?A+=" {":(A+="\n",b(),A+="{"),"\n"!==r&&(A+="\n"),u+=1}function B(){var e;u-=1,(A=h(A)).length>0&&d&&";"!==(e=A.charAt(A.length-1))&&"{"!==e&&(A+=";"),A+="\n",b(),A+="}",i.push(A),A=""}for(void 0===(n=arguments.length>1?t:{}).indent&&(n.indent="    "),"string"==typeof n.openbrace&&(S="end-of-line"===n.openbrace),"boolean"==typeof n.autosemicolon&&(d=n.autosemicolon),h=String.prototype.trimRight?function(e){return e.trimRight()}:function(e){return e.replace(/\s+$/,"")},u=0,c=(f={Start:0,AtRule:1,Block:2,Selector:3,Ruleset:4,Property:5,Separator:6,Expression:7,URL:8}).Start,a=!1,i=[],e=e.replace(/\r\n/g,"\n");g<p;)if(o=e.charAt(g),r=e.charAt(g+1),g+=1,x(s))A+=o,o===s&&(s=null),"\\"===o&&r===s&&(A+=r,g+=1);else if(x(o))A+=o,s=o;else if(a)A+=o,"*"===o&&"/"===r&&(a=!1,A+=r,g+=1);else if("/"!==o||"*"!==r){if(c===f.Start){if(0===i.length&&R(o)&&0===A.length)continue;if(o<=" "||o.charCodeAt(0)>=128){c=f.Start,A+=o;continue}if(y(o)||"@"===o){if(0===(l=h(A)).length)i.length>0&&(A="\n\n");else if("}"===l.charAt(l.length-1)||";"===l.charAt(l.length-1))A=l+"\n\n";else for(;" "===(r=A.charAt(A.length-1))||9===r.charCodeAt(0);)A=A.substr(0,A.length-1);A+=o,c="@"===o?f.AtRule:f.Selector;continue}}if(c!==f.AtRule)if(c!==f.Block)if(c!==f.Selector)if(c!==f.Ruleset)if(c!==f.Property)if(c!==f.Separator)if(c!==f.Expression)c===f.URL&&")"===o&&A.charAt(A.length-1!=="\\")?(A+=o,c=f.Expression):A+=o;else{if("}"===o){B(),c=f.Start,u>0&&(c=f.Block);continue}if(";"===o){A=h(A),A+=";\n",c=f.Ruleset;continue}if(A+=o,"("===o&&"l"===A.charAt(A.length-2)&&"r"===A.charAt(A.length-3)&&"u"===A.charAt(A.length-4)){c=f.URL;continue}}else{if(!R(o)){A+=o,c=f.Expression;continue}x(r)&&(c=f.Expression)}else{if(":"===o){A=h(A),A+=": ",c=f.Expression,R(r)&&(c=f.Separator);continue}if("}"===o){B(),c=f.Start,u>0&&(c=f.Block);continue}A+=o}else{if("}"===o){B(),c=f.Start,u>0&&(c=f.Block);continue}if("\n"===o){A=h(A),A+="\n";continue}if(!R(o)){A=h(A),A+="\n",b(),A+=o,c=f.Property;continue}A+=o}else{if("{"===o){k(),c=f.Ruleset;continue}if("}"===o){B(),c=f.Start;continue}A+=o}else{if(y(o)){if(0===(l=h(A)).length)i.length>0&&(A="\n\n");else if("}"===l.charAt(l.length-1))A=l+"\n\n";else for(;" "===(r=A.charAt(A.length-1))||9===r.charCodeAt(0);)A=A.substr(0,A.length-1);b(),A+=o,c=f.Selector;continue}if("}"===o){B(),c=f.Start;continue}A+=o}else{if(";"===o){A+=o,c=f.Start;continue}if("{"===o){l=h(A),k(),c="@font-face"===l?f.Ruleset:f.Block;continue}A+=o}}else a=!0,A+=o,A+=r,g+=1;return A=i.join("")+A}"undefined"!=typeof exports?module.exports=exports=e:"object"==typeof window&&(window.cssbeautify=e)}();